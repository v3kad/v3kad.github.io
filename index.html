<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GMod Loading Screen</title>
    <!-- Подключаем шрифт Roboto (похож на пример) -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- СТИЛИ --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #1a1a1a; /* Цвет фона, пока грузятся картинки */
            font-family: 'Roboto', sans-serif;
            color: white;
            /* Отключаем выделение текста */
            user-select: none; 
        }

        /* --- ФОН (Слайдшоу) --- */
        #bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .bg-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out; /* Плавность смены фона */
        }

        .bg-slide.active {
            opacity: 1;
        }

        /* Затемнение фона, чтобы текст читался лучше */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4); /* 40% темноты */
            z-index: 0;
        }

        /* --- ЦЕНТРАЛЬНЫЙ БЛОК --- */
        .content-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Центрируем по вертикали */
            align-items: center;     /* Центрируем по горизонтали */
            text-align: center;
        }

        /* 1. Homi-Work */
        .title-main {
            font-size: 6rem; /* Очень крупно */
            font-weight: 900; /* Очень жирно */
            margin: 0;
            line-height: 1;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8); /* Тень для читаемости */
        }

        /* 2. REWORKED */
        .title-sub {
            font-size: 2rem;
            font-weight: 900;
            color: #ff3333; /* Ярко-красный */
            margin-top: -5px; /* Чуть прижимаем к верхнему тексту */
            margin-bottom: 20px;
            text-transform: uppercase;
            text-shadow: 1px 1px 5px rgba(0,0,0,1);
        }

        /* 3. Название карты */
        .map-name {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 40px; /* Отступ до логов */
            text-shadow: 2px 2px 8px rgba(0,0,0,0.9);
        }

        /* 4. Логи загрузки (Контейнер) */
        .logs-container {
            width: 80%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 150px; /* Фиксированная высота для логов */
            overflow: hidden;
        }

        .log-item {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
            margin-bottom: 5px;
            transition: all 0.5s ease;
            text-shadow: 1px 1px 3px rgba(0,0,0,1);
        }

        /* --- ЭФФЕКТЫ ДЛЯ СТРОК ЗАГРУЗКИ --- */
        
        /* Самая верхняя строка (Текущая) */
        .log-item:nth-child(1) {
            font-size: 1.5rem; /* Крупная */
            color: #ffffff;
            opacity: 1;
            transform: scale(1.05); /* Чуть увеличена */
        }

        /* Вторая строка (Прошлая) */
        .log-item:nth-child(2) {
            font-size: 1.2rem;
            color: #dddddd;
            opacity: 0.7;
        }

        /* Третья строка */
        .log-item:nth-child(3) {
            font-size: 1rem;
            color: #bbbbbb;
            opacity: 0.4;
        }

        /* Остальные скрываем или делаем совсем прозрачными */
        .log-item:nth-child(n+4) {
            opacity: 0;
            height: 0;
        }

    </style>
</head>
<body>

    <!-- Фон -->
    <div id="bg-container">
        <div class="overlay"></div>
        <!-- Картинки добавляются скриптом -->
    </div>

    <!-- Текст -->
    <div class="content-wrapper">
        <div class="title-main">Homi-Work</div>
        <div class="title-sub">REWORKED</div>
        
        <!-- Сюда попадет название карты -->
        <div class="map-name" id="map-display">Загрузка...</div>

        <div class="logs-container" id="logs">
            <!-- Сюда попадают файлы -->
        </div>
    </div>

    <script>
        // ==========================================
        // НАСТРОЙКИ (РЕДАКТИРОВАТЬ ТУТ)
        // ==========================================
        
        const backgroundImages = [
            // Сюда вставь ссылки на свои картинки.
            // Если они лежат на гитхабе рядом с файлом, просто пиши 'bg1.jpg', 'bg2.jpg'
            'data:image/jpeg;base64,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',
            'https://via.placeholder.com/1920x1080/444/fff?text=GMOD+BACKGROUND+2',
            'https://via.placeholder.com/1920x1080/666/fff?text=GMOD+BACKGROUND+3'
        ];

        const slideTime = 3000; // 3000 мс = 3 секунды

        // ==========================================
        // ЛОГИКА (НЕ ТРОГАТЬ, ЕСЛИ НЕ ЗНАЕШЬ)
        // ==========================================

        // 1. Слайдшоу
        const bgContainer = document.getElementById('bg-container');
        let currentSlideIndex = 0;

        // Создаем div-ы для картинок
        backgroundImages.forEach((url, index) => {
            const div = document.createElement('div');
            div.className = 'bg-slide';
            div.style.backgroundImage = `url('${url}')`;
            if(index === 0) div.classList.add('active');
            bgContainer.insertBefore(div, bgContainer.firstChild);
        });

        const slides = document.querySelectorAll('.bg-slide');

        function nextSlide() {
            slides[currentSlideIndex].classList.remove('active');
            currentSlideIndex = (currentSlideIndex + 1) % slides.length;
            slides[currentSlideIndex].classList.add('active');
        }
        setInterval(nextSlide, slideTime);


        // 2. Функции Garry's Mod
        // Эти функции игра вызывает сама.

        function GameDetails(servername, serverurl, mapname, maxplayers, steamid, gamemode) {
            // Устанавливаем название карты
            document.getElementById('map-display').innerText = mapname;
        }

        function DownloadingFile(fileName) {
            addLog("Downloading " + fileName);
        }

        function SetStatusChanged(status) {
            addLog(status);
        }

        // Вспомогательная функция добавления лога
        function addLog(text) {
            const container = document.getElementById('logs');
            const div = document.createElement('div');
            div.className = 'log-item';
            div.innerText = text;
            
            // Добавляем в НАЧАЛО (сверху)
            container.prepend(div);

            // Удаляем лишние (больше 4), чтобы не грузить браузер
            if (container.children.length > 5) {
                container.removeChild(container.lastChild);
            }
        }

        // ==========================================
        // ТЕСТОВЫЙ РЕЖИМ (ДЛЯ БРАУЗЕРА)
        // Чтобы ты мог проверить, как выглядит, не заходя в игру
        // ==========================================
        if (!navigator.userAgent.includes("Valve Source Client")) {
            console.log("Режим браузера: Запуск демо-режима");
            
            // Тестовое название карты
            document.getElementById('map-display').innerText = "gm_construct";

            // Тестовая имитация загрузки файлов
            let demoFiles = [
                "materials/models/weapons/v_ak47.vtf",
                "sound/weapons/shotgun/fire.wav",
                "models/player/combine_soldier.mdl",
                "lua/autorun/client/cl_init.lua",
                "maps/graphs/gm_construct.ain"
            ];
            let demoIndex = 0;

            setInterval(() => {
                let file = demoFiles[demoIndex % demoFiles.length];
                DownloadingFile(file); // Имитируем вызов из игры
                demoIndex++;
            }, 800); // Новая строка каждые 0.8 сек
        }
    </script>
</body>
</html>
